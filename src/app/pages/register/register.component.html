<div class="register-container">
  <div class="register-card">
    <h2>Regisztráció</h2>

    <form (ngSubmit)="register()" #registerForm="ngForm" novalidate>
      <input
        type="text"
        name="displayName"
        [(ngModel)]="displayName"
        required
        minlength="6"
        placeholder="Teljes név"
      />
      <div *ngIf="registerForm.submitted && displayName.length < 6" class="error">
        Minimum 6 karakter
      </div>

      <input
        type="email"
        name="email"
        [(ngModel)]="email"
        required
        placeholder="Email"
      />

      <input
        type="password"
        name="password"
        [(ngModel)]="password"
        required
        placeholder="Jelszó"
      />
      <div *ngIf="registerForm.submitted && !isPasswordValid(password)" class="error">
        A jelszónak legalább 8 karakterből kell állnia, kis- és nagybetűt, számot, speciális karaktert is tartalmaznia kell.
      </div>

      <input
        type="tel"
        name="phone"
        [(ngModel)]="phone"
        required
        placeholder="Telefonszám (pl. 06301234567)"
      />
      <div *ngIf="registerForm.submitted && !isPhoneValid(phone)" class="error">
        Telefonszám formátum: 06 vagy +36, érvényes körzetszám, 7 számjegy.
      </div>

      <app-address-autocomplete (addressSelected)="address = $event"></app-address-autocomplete>
      <div *ngIf="registerForm.submitted && !address" class="error">
        Lakcím kiválasztása kötelező.
      </div>

      <button type="submit">Regisztrál</button>
    </form>

    <div *ngIf="error" class="error">{{ error }}</div>
  </div>
</div>
